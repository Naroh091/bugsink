{% extends "base.html" %}
{% load static code %}

{% block title %}Set up your SDK Â· {{ site_title }}{% endblock %}

{% block content %}

<div class="flex items-center justify-center">

    <div class="m-4 max-w-2xl w-full">
        <h1 class="text-2xl font-bold text-slate-800 dark:text-slate-100 mt-4">Set up your SDK</h1>
        <p class="text-sm text-slate-500 dark:text-slate-400 mt-2 leading-relaxed">
            Connect your PHP application to Bugsink to start tracking errors.
            Bugsink is compatible with the <a class="text-cyan-600 dark:text-cyan-300 hover:underline" href="https://docs.sentry.io/platforms/php/">Sentry SDK</a>.
            Note that the instructions for <a class="text-cyan-600 dark:text-cyan-300 hover:underline" href="https://docs.sentry.io/platforms/php/guides/laravel/">Laravel</a> and <a class="text-cyan-600 dark:text-cyan-300 hover:underline" href="https://docs.sentry.io/platforms/php/guides/symfony/">Symfony</a> are quite different from plain PHP.
            Below we provide an overview, zoom in on the differences between Bugsink and Sentry, and provide a snippet with the correct DSN set.
        </p>

        <h2 class="text-lg font-semibold text-slate-800 dark:text-slate-100 mt-6 mb-2">Step 1: Install the SDK</h2>
        <p class="text-sm text-slate-500 dark:text-slate-400 mb-2">Install the SDK using Composer. Run either of the following commands:</p>

{% code %}:::text
PICK ONE:
composer require sentry/sentry
composer require sentry/sentry-laravel
composer require sentry/sentry-symfony
{% endcode %}

        <h2 class="text-lg font-semibold text-slate-800 dark:text-slate-100 mt-6 mb-2">Step 2: Configure the SDK with your DSN</h2>
        <p class="text-sm text-slate-500 dark:text-slate-400 mb-2">
            The steps for initialization/configuration differ between the different frameworks. Refer to the relevant document.
            Configure the SDK without tracing and profiling, as Bugsink does not support these features.
            Initialize and configure the SDK with your DSN:
        </p>

{% code %}:::php
{{ dsn }}
{% endcode %}

        <h2 class="text-lg font-semibold text-slate-800 dark:text-slate-100 mt-6 mb-2">Step 3: Verify the setup</h2>
        <p class="text-sm text-slate-500 dark:text-slate-400 mb-2">
            To verify that everything is working, raise an exception on purpose and check that it appears in Bugsink.
            How to do this depends on the framework you are using, as per the documentation. Here's an example for plain PHP:
        </p>

{% code %}:::php
<?php
try {
  $this->iWantThisToFailSoBugsinkShowsIt();
} catch (\Throwable $exception) {
  \Sentry\captureException($exception);
}
?>{% endcode %}

        <p class="text-sm text-slate-500 dark:text-slate-400 mt-3">
            Your event should now appear in the <a href="{% url "issue_list_open" project_pk=project.pk %}" class="text-cyan-600 dark:text-cyan-300 hover:underline">list of open issues</a>.
        </p>

        <h2 class="text-lg font-semibold text-slate-800 dark:text-slate-100 mt-6 mb-2">Further reading</h2>
        <p class="text-sm text-slate-500 dark:text-slate-400">
            For more information on how to use the SDK, check the <a href="https://www.bugsink.com/docs/sdk-recommendations/" class="text-cyan-600 dark:text-cyan-300 hover:underline">Bugsink-specific SDK recommendations</a>.
        </p>

    </div>
</div>

{% endblock %}
