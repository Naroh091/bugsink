{% extends "issues/base.html" %}
{% load static %}
{% load i18n %}

{% block tab_content %}

{% comment %}
This template/tab may seem like very little info for a full tab, and that's probably correct. However:

* We need _something_ that's tied to the issue rather than the event, because that's where the .grouping_set().all() lives.
    (yes manual merging isn't implemented in the UI yet, but we follow the datamodel here)

* Better grouping is probably inevitable in the future, at which point this place will be the place

{% endcomment %}

<div class="mt-4 mb-6 border border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden">
    <div class="bg-slate-50 dark:bg-slate-800/50 px-4 py-2.5 border-b border-slate-200 dark:border-slate-700">
        <h2 class="text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider">{% translate "Issue Grouping" %}</h2>
    </div>
    <div class="px-4 py-3 text-sm text-slate-500 dark:text-slate-400 border-b border-slate-100 dark:border-slate-700/50">
        {% translate "The following automatically determined groupers are part of this issue:" %}
    </div>
    {% for grouper in issue.grouping_set.all %}
        <div class="flex items-center px-4 py-2.5 {% if not forloop.last %}border-b border-slate-100 dark:border-slate-700/50{% endif %} hover:bg-slate-50/50 dark:hover:bg-slate-800/30">
            <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-slate-100 dark:bg-slate-700 text-xs font-medium text-slate-500 dark:text-slate-400 mr-3 shrink-0">{{ forloop.counter }}</span>
            <code class="text-sm font-mono text-slate-800 dark:text-slate-200 break-all">{{ grouper.grouping_key }}</code>
        </div>
    {% endfor %}
</div>

{% endblock %}
