{% extends "base.html" %}
{% load static %}
{% load issues %}
{% load humanize %}
{% load stricter_templates %}
{% load add_to_qs %}
{% load i18n %}
{% load sparkline %}

{% block title %}{{ issue.title }} · {{ block.super }}{% endblock %}

{% block content %}

{% for warning in issue.project.get_warnings %}
<div class="flex p-4 bg-yellow-100 dark:bg-amber-800 border-b border-yellow-200 dark:border-amber-900">
    <div class="text-slate-800 dark:text-slate-100">
        {{ warning }}
    </div>
</div>
{% endfor %}

<div class="m-4 flex flex-col lg:flex-row-reverse"><!-- container for the white bit (issue title, buttons) at the top of the page -->

    <div class="ml-auto flex-none pb-4 lg:pb-0"><!-- top, RHS (buttons) -->
        <form action="." method="post">
        {% csrf_token %}
        {% if issue.is_resolved %}{# i.e. buttons disabled #}
            {# see issues/tests.py for why this is turned off ATM #}
            {# <button class="font-bold text-slate-800 dark:text-slate-100 border-slate-500 dark:border-slate-400 px-3.5 py-1.5 ml-1 border bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 active:ring-3 rounded-md" name="action" value="reopen">Reopen</button> #}

            {% spaceless %}{# needed to avoid whitespace between the looks-like-one-buttons #}
            {% if issue.project.has_releases %}
                <button disabled class="text-slate-300 dark:text-slate-600 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 ml-1 border rounded-s-md" name="action" value="resolved_next">{% translate "Resolved in next release" %}</button>

                <button disabled class="text-slate-300 dark:text-slate-600 fill-slate-300 dark:fill-slate-600 stroke-slate-300 dark:stroke-slate-600 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 border-r border-t border-b rounded-e-md"><svg xmlns="http://www.w3.org/2000/svg" fill="full" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 inline"><path d="M6.5,8.5l6,7l6-7H6.5z"/></svg></button>
                {# we just hide the whole dropdown; this is the easiest implementation of not-showing the dropdown #}
            {% else %}
                <button disabled class="text-slate-300 dark:text-slate-600 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 ml-1 border rounded-md" name="action" value="resolved">{% translate "Resolve" %}</button>
            {% endif %}
            {% endspaceless %}

        {% else %}{# not resolved, i.e. buttons enabled #}
            {% spaceless %}{# needed to avoid whitespace between the looks-like-one-buttons #}

            {% if issue.project.has_releases %}
                {# 'by next' is shown even if 'by current' is also shown: just because you haven't seen 'by current' doesn't mean it's actually already solved; and in fact we show this option first precisely because we can always show it #}
                <button class="text-slate-600 dark:text-slate-200 border-slate-300 dark:border-slate-500 px-3.5 py-1.5 ml-1 border bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 active:ring-3 rounded-s-md" name="action" value="resolved_next">{% translate "Resolved in next release" %}</button>

                <div class="dropdown">
                    <button disabled {# disabled b/c clicking the dropdown does nothing - we have hover for that #} class="text-slate-600 dark:text-slate-200 fill-slate-600 dark:fill-slate-200 border-slate-300 dark:border-slate-500 px-3.5 py-1.5 border-r border-t border-b hover:bg-slate-200 dark:hover:bg-slate-800 active:ring-3 rounded-e-md"><svg xmlns="http://www.w3.org/2000/svg" fill="full" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 inline"><path d="M6.5,8.5l6,7l6-7H6.5z"/></svg></button>

                    {# note that we can depend on get_latest_release being available, because we're in the 'project.has_releases' branch #}
                    <div class="dropdown-content-right flex-col pl-2">

                        {% if not issue.occurs_in_last_release %}
                            <button name="action" value="resolved_release:{{ issue.project.get_latest_release.version }}" class="block self-stretch text-slate-500 dark:text-slate-300 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 border-l border-r border-b bg-white dark:bg-slate-900 hover:bg-slate-200 dark:hover:bg-slate-800 active:ring-3 text-left whitespace-nowrap">Resolved in latest ({{ issue.project.get_latest_release.get_short_version }})</button>
                        {% else %}
                            <button name="action" value="resolved_release:{{ issue.project.get_latest_release.version }}" disabled class="block self-stretch text-slate-300 dark:text-slate-600 border-slate-200 dark:border-slate-700 px-3.5 py-1.5 border-l border-r border-b bg-white dark:bg-slate-900 text-left whitespace-nowrap">Resolved in latest ({{ issue.project.get_latest_release.get_short_version }})</button>
                        {% endif %}
                            <button name="action" value="resolve" class="block self-stretch text-slate-500 dark:text-slate-300 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 border-l border-r border-b bg-white dark:bg-slate-900 hover:bg-slate-200 dark:hover:bg-slate-800 active:ring-3 text-left whitespace-nowrap">{% translate "Resolved" %}</button>

                    </div>
                </div>


            {% else %}
                <button class="text-slate-600 dark:text-slate-200 border-slate-300 dark:border-slate-500 px-3.5 py-1.5 ml-1 border bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 active:ring-3 rounded-md" name="action" value="resolve">{% translate "Resolve" %}</button>
            {% endif %}

            {% endspaceless %}
        {% endif %}{# end of the resolved/not-resolved branch; (which implies disabled/enabled) #}

        {% spaceless %}{# needed to avoid whitespace between the looks-like-one-buttons #}
        {% if not issue.is_muted and not issue.is_resolved %}
            <button class="text-slate-500 dark:text-slate-300 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 ml-1 border hover:bg-slate-200 dark:hover:bg-slate-800 active:ring-3 rounded-s-md" name="action" value="mute">{% translate "Mute" %}</button>
        {% else %}
            <button disabled class="text-slate-300 dark:text-slate-600 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 ml-1 border rounded-s-md" name="action" value="mute">{% translate "Mute" %}</button>
        {% endif %}

        <div class="dropdown">
            {% if not issue.is_muted and not issue.is_resolved %}
                <button disabled {# disabled b/c clicking the dropdown does nothing - we have hover for that #} class="text-slate-500 dark:text-slate-300 fill-slate-500 dark:fill-slate-500 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 border-r border-b border-t hover:bg-slate-200 dark:hover:bg-slate-800 active:ring-3">{% translate "Mute for/until&nbsp;&nbsp;" %}<svg xmlns="http://www.w3.org/2000/svg" fill="full" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 inline"><path d="M6.5,8.5l6,7l6-7H6.5z"/></svg></button>

                <div class="dropdown-content-right flex-col">
                    {% for mute_option in mute_options %}
                        <button name="action" value="mute_{{ mute_option.for_or_until }}:{{ mute_option.period_name }},{{ mute_option.nr_of_periods }},{{ mute_option.gte_threshold }}" class="block self-stretch text-slate-500 dark:text-slate-300 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 border-l border-r border-b bg-white dark:bg-slate-900 hover:bg-slate-200 dark:hover:bg-slate-800 active:ring-3 text-left whitespace-nowrap">{% if mute_option.for_or_until == "for" %}{{ mute_option.nr_of_periods }} {{ mute_option.period_name }}{% if mute_option.nr_of_periods != 1 %}s{% endif %}{% else %}{{ mute_option.gte_threshold }} events per {% if mute_option.nr_of_periods != 1%} {{ mute_option.nr_of_periods }} {{ mute_option.period_name }}s{% else %} {{ mute_option.period_name }}{% endif %}{% endif %}</button>
                    {% endfor %}
                </div>
            {% else %}
                <button disabled class="text-slate-300 dark:text-slate-600 fill-slate-300 dark:fill-slate-600 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 border-r border-b border-t">{% translate "Mute for/until&nbsp;&nbsp;" %}<svg xmlns="http://www.w3.org/2000/svg" fill="full" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 inline"><path d="M6.5,8.5l6,7l6-7H6.5z"/></svg></button>
                {# note that when the issue is muted, no further muting is allowed. this is a design decision, I figured this is the easiest-to-understand UI, #}
                {# both at the point-of-clicking and when displaying the when-will-this-be-unmuted in some place #}
                {# (the alternative would be to allow multiple simulteneous reasons for unmuting to exist next to each other #}
                {# we just hide the whole dropdown; this is the easiest implementation of not-showing the dropdown when the issue is already muted #}
            {% endif %}
        </div>

        {% if issue.is_muted and not issue.is_resolved %}
            <button class="text-slate-500 dark:text-slate-300 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 border-r border-b border-t hover:bg-slate-200 dark:hover:bg-slate-800 active:ring-3 rounded-e-md" name="action" value="unmute">{% translate "Unmute" %}</button>
        {% else %}
            <button disabled class="text-slate-300 dark:text-slate-600 border-slate-300 dark:border-slate-600 px-3.5 py-1.5 border-r border-b border-t rounded-e-md" name="action" value="unmute">{% translate "Unmute" %}</button>
        {% endif %}

        {% endspaceless %}

        </form>
    </div> {# top, RHS (buttons) #}

    <div class="overflow-hidden"><!-- top, LHS (various texts) -->
        <h1 class="text-2xl font-bold text-ellipsis whitespace-nowrap overflow-hidden pb-1 {# needed for descenders of 'g' #}">{{ issue.calculated_type }}</h1>
        <div class="text-base text-ellipsis whitespace-nowrap overflow-hidden">{{ issue.calculated_value }}</div>
        {% if request_repr %}<div class="italic mt-4">{{ request_repr }}</div>{% endif %}
        <div class="text-ellipsis whitespace-nowrap overflow-hidden"><span class="font-bold">{% if issue.last_frame_module %}{{ issue.last_frame_module}}{% else %}{{ issue.last_frame_filename }}{% endif %}</span>{% if issue.last_frame_function %} in <span class="font-bold">{{ issue.last_frame_function }}</span>{% endif %}</div>
    </div> {# top, LHS (various texts) #}

</div>

{% if is_event_page %}
<div class="mx-4 mb-2 flex items-center">
    <div class="text-sm text-slate-500 dark:text-slate-400 italic">
        {% blocktranslate with digest_order=event.digest_order|intcomma total_events=issue.digested_event_count|intcomma ingested_at=event.ingested_at|date:"j M G:i T" %}Event {{ digest_order }} of {{ total_events }} at <span class="font-semibold not-italic">{{ ingested_at }}</span>{% endblocktranslate %}{% if q %} — {{ event_qs_count|intcomma }} {% translate "found by search" %}{% endif %}
    </div>
    <div class="ml-auto flex items-center">
        {% include "issues/_event_nav.html" %}
        <a href="{{ script_prefix }}/issues/issue/{{ issue.id }}/events/{% current_qs %}" class="text-sm text-slate-500 dark:text-slate-300 border border-slate-300 dark:border-slate-600 px-2.5 py-1 ml-1 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800 active:ring-3 whitespace-nowrap">{% translate "All Events" %}</a>
    </div>
</div>
{% endif %}

<div class="flex items-start"><!-- flex container for the 2 'windows' in this page' -->

    {% block main_panel %}
    {# overflow-x-auto is needed at the level of the flex item such that it works at the level where we need it (the code listings)#}
    <div class="ml-4 mb-4 mr-4 border border-slate-200 dark:border-slate-700 rounded-lg overflow-x-auto flex-[2_1_96rem]"><!-- the whole of the big tabbed view--> {# 96rem is 1536px, which matches the 2xl class; this is no "must" but eyeballing revealed: good result #}
        <div class="flex bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700"><!-- container for the actual tab buttons -->
            <a href="{{ script_prefix }}/issues/issue/{{ issue.id }}/event/{% if event %}{{ event.id }}{% else %}last{% endif %}/{% current_qs %}"><div class="px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:hover:bg-slate-800 {% if tab == "stacktrace" %}text-cyan-500 dark:text-cyan-300 border-cyan-500 border-b-2{% else %}text-slate-500 border-slate-400 hover:border-b-2{% endif %}">{% translate "Stacktrace" %}</div></a>
            <a href="{{ script_prefix }}/issues/issue/{{ issue.id }}/event/{% if event %}{{ event.id }}{% else %}last{% endif %}/details/{% current_qs %}"><div class="px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:hover:bg-slate-800 {% if tab == "event-details" %}text-cyan-500 dark:text-cyan-300 border-cyan-500 border-b-2{% else %}text-slate-500 border-slate-400 hover:border-b-2{% endif %}">{% translate "Event&nbsp;Details" %}</div></a>
            <a href="{{ script_prefix }}/issues/issue/{{ issue.id }}/event/{% if event %}{{ event.id }}{% else %}last{% endif %}/breadcrumbs/{% current_qs %}"><div class="px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:hover:bg-slate-800 {% if tab == "breadcrumbs" %}text-cyan-500 dark:text-cyan-300 border-cyan-500 border-b-2{% else %}text-slate-500 border-slate-400 hover:border-b-2{% endif %}">{% translate "Breadcrumbs" %}</div></a>
            <div class="border-l border-slate-200 dark:border-slate-700 mx-1 my-1"></div>
            <a href="{{ script_prefix }}/issues/issue/{{ issue.id }}/tags/{% current_qs %}"><div class="px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:hover:bg-slate-800 {% if tab == "tags" %}text-cyan-500 dark:text-cyan-300 border-cyan-500 border-b-2{% else %}text-slate-500 border-slate-400 hover:border-b-2{% endif %}">{% translate "Tags" %}</div></a>
            <a href="{{ script_prefix }}/issues/issue/{{ issue.id }}/grouping/{% current_qs %}"><div class="px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:hover:bg-slate-800 {% if tab == "grouping" %}text-cyan-500 dark:text-cyan-300 border-cyan-500 border-b-2{% else %}text-slate-500 border-slate-400 hover:border-b-2{% endif %}">{% translate "Grouping" %}</div></a>
            <a href="{{ script_prefix }}/issues/issue/{{ issue.id }}/history/{% current_qs %}"><div class="px-3 py-2 text-sm font-semibold hover:bg-slate-100 dark:hover:bg-slate-800 {% if tab == "history" %}text-cyan-500 dark:text-cyan-300 border-cyan-500 border-b-2{% else %}text-slate-500 border-slate-400 hover:border-b-2{% endif %}">{% translate "History" %}</div></a>
        </div>

        <div class="m-4"><!-- div for tab_content -->
        {% block tab_content %}
        {% endblock %}
        </div>

        <div class="flex px-4 py-2 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700"><!-- bottom nav bar -->
            <div class="ml-auto text-sm text-slate-500 dark:text-slate-300">
                {% if is_event_page %}
                <a href="{{ script_prefix }}/events/event/{{ event.id }}/download/">{% translate "Download" %}</a>
                | <a href="{{ script_prefix }}/events/event/{{ event.id }}/raw/" >{% translate "JSON" %}</a>
                | <a href="{{ script_prefix }}/events/event/{{ event.id }}/md/" >{% translate "Markdown" %}</a>
                | <a href="{{ script_prefix }}/events/event/{{ event.id }}/plain/" >{% translate "Plain" %}</a>
                {% endif %}

                {% if app_settings.USE_ADMIN and user.is_staff %}
                    {% if is_event_page %}
                        | <a href="{{ script_prefix }}/admin/events/event/{{ event.id }}/change/">{% translate "Event Admin" %}</a> |
                    {% endif %}
                    <a href="{{ script_prefix }}/admin/issues/issue/{{ issue.id }}/change/">{% translate "Issue Admin" %}</a>
                {% endif %}

            </div>
        </div>{# bottom nav bar #}
    </div>{# the whole of the big tabbed view #}
    {% endblock %}{# main_panel #}

    <div class="w-128 hidden xl:flex flex-auto flex-col">{# RHS container for multiple stacked boxes #}

        <div class="border border-slate-200 dark:border-slate-700 rounded-lg mb-4 mr-4"><!-- "issue: key info" box -->
            <div class="bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700 rounded-t-lg">
                <div class="px-4 py-2.5 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider">
                Issue Key Info
                </div>
            </div>

            <div class="px-4 py-1">
                <div class="py-3 border-b border-slate-100 dark:border-slate-700/50">
                    <div class="text-xs font-medium text-slate-400 dark:text-slate-500 uppercase tracking-wider">{% translate "Issue" %} #</div>
                    <div class="mt-1 text-sm font-semibold text-slate-800 dark:text-slate-100">{{ issue.friendly_id }} </div>
                </div>

                <div class="py-3 border-b border-slate-100 dark:border-slate-700/50">
                    <div class="text-xs font-medium text-slate-400 dark:text-slate-500 uppercase tracking-wider">{% translate "State" %}</div>
                    <div class="mt-1 text-sm text-slate-700 dark:text-slate-200">
                        {% if issue.is_resolved %}
                            <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300">{% translate "Resolved" %}</span>
                            {% for version in issue.get_fixed_at %}
                                {% if forloop.first %}<span class="ml-1 text-xs text-slate-500 dark:text-slate-400">{% translate "in" %}{% endif %}
                                <span {% if version|issha %}class="font-mono"{% endif %}>{{ version|shortsha }}{% if not forloop.last %}</span>,{% else %}</span></span>{% endif %}
                            {% endfor %}
                        {% else %}
                            {% if issue.is_muted %}
                                <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300">{% translate "Muted" %}</span>
                                <span class="block mt-1 text-xs text-slate-500 dark:text-slate-400">
                                {% if issue.unmute_after %}
                                    until {{ issue.unmute_after|date:"j M G:i T" }}.
                                {% elif issue.get_unmute_on_volume_based_conditions %}
                                    {% for vbc in issue.get_unmute_on_volume_based_conditions %}
                                        until at least {{ vbc.volume }} events per {{ vbc.nr_of_periods }} {{ vbc.period }}{% if vbc.nr_of_periods != 1 %}s{% endif %}{% if forloop.last %} occur.{% else %} or {% endif %}
                                    {% endfor %}
                                {% else %}
                                    (unconditionally).
                                {% endif %}
                                </span>
                            {% else %}
                                <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300">{% translate "Open" %}</span>
                            {% endif %}
                        {% endif %}
                    </div>
                </div>

                <div class="py-3 border-b border-slate-100 dark:border-slate-700/50">
                    <div class="text-xs font-medium text-slate-400 dark:text-slate-500 uppercase tracking-wider">{% translate "Nr. of events" %}</div>
                    <div class="mt-1 text-sm font-semibold text-slate-800 dark:text-slate-100">{{ issue.digested_event_count|intcomma }}
                    {% if issue.digested_event_count != issue.stored_event_count %}
                        <span class="font-normal text-slate-500 dark:text-slate-400">total seen</span></div><div class="text-sm font-semibold text-slate-800 dark:text-slate-100">{{ issue.stored_event_count|intcomma }} <span class="font-normal text-slate-500 dark:text-slate-400">available</span></div>
                    {% else %}
                        </div>
                    {% endif %}
                </div>

                <div class="py-3 border-b border-slate-100 dark:border-slate-700/50">
                    <div class="text-xs font-medium text-slate-400 dark:text-slate-500 uppercase tracking-wider">{% translate "Evolution" %}</div>
                    <div class="mt-1 text-slate-400 dark:text-slate-500">
                        {% issue_sparkline issue.id %}
                    </div>
                </div>

                {% if issue.digested_event_count > 1 %}
                <div class="py-3 border-b border-slate-100 dark:border-slate-700/50">
                    <div class="text-xs font-medium text-slate-400 dark:text-slate-500 uppercase tracking-wider">{% translate "First seen" %}</div>
                    <div class="mt-1 text-sm text-slate-700 dark:text-slate-200">{{ issue.first_seen|date:"j M G:i T" }}</div>
                </div>

                <div class="py-3{% if issue.get_events_at_2 %} border-b border-slate-100 dark:border-slate-700/50{% endif %}">
                    <div class="text-xs font-medium text-slate-400 dark:text-slate-500 uppercase tracking-wider">{% translate "Last seen" %}</div>
                    <div class="mt-1 text-sm text-slate-700 dark:text-slate-200">{{ issue.last_seen|date:"j M G:i T" }}</div>
                </div>
                {% else %}
                <div class="py-3{% if issue.get_events_at_2 %} border-b border-slate-100 dark:border-slate-700/50{% endif %}">
                    <div class="text-xs font-medium text-slate-400 dark:text-slate-500 uppercase tracking-wider">{% translate "Seen at" %}</div>
                    <div class="mt-1 text-sm text-slate-700 dark:text-slate-200">{{ issue.first_seen|date:"j M G:i T" }}</div>
                </div>
                {% endif %}

                {% if issue.get_events_at_2 %}
                <div class="py-3">
                    <div class="text-xs font-medium text-slate-400 dark:text-slate-500 uppercase tracking-wider">Seen in releases</div>
                    <div class="mt-1 text-sm text-slate-700 dark:text-slate-200">
                    {% for version in issue.get_events_at_2 %}
                        <span {% if version|issha %}class="font-mono"{% endif %}>{{ version|shortsha }}{% if not forloop.last %}</span>,{% endif %}
                    {% endfor %}
                    </div>
                </div>
                {% endif %}

            </div>
        </div>

        {% if tab != "tags" and issue.tags_summary %}
        <div class="border border-slate-200 dark:border-slate-700 rounded-lg mb-4 mr-4"><!-- "issue: tags" box -->
            <div class="bg-slate-50 dark:bg-slate-800/50 border-b border-slate-200 dark:border-slate-700 rounded-t-lg">
                <div class="px-4 py-2.5 text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider">
                {% translate "Issue Tags" %}
                </div>
            </div>
            <div class="px-4 py-1">
                {% for issuetags in issue.tags_summary %}
                    <div class="py-3{% if not forloop.last %} border-b border-slate-100 dark:border-slate-700/50{% endif %}">
                        <div class="text-xs font-medium text-slate-400 dark:text-slate-500 uppercase tracking-wider">{{ issuetags.0.key.key }}</div>
                        <div class="mt-1 text-sm text-slate-700 dark:text-slate-200">
                        {% for issuetag in issuetags %}
                            <span>{{ issuetag.value.value }} <span class="text-xs text-slate-400 dark:text-slate-500">({{ issuetag.pct }}%)</span>{% if not forloop.last %}</span>,{% endif %}
                        {% endfor %}
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700 rounded-b-lg px-4 py-2.5 text-center">
                <a href="{{ script_prefix }}/issues/issue/{{ issue.id }}/tags/{% current_qs %}" class="text-xs font-medium text-slate-500 dark:text-slate-400 hover:text-cyan-600 dark:hover:text-cyan-300 uppercase tracking-wider">{% translate "All tags..." %}</a>
            </div>
        </div>
        {% endif %}

    </div>{# RHS container #}
</div>

{% endblock %}{# block content #}
